<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd">

<!--
    Suite de Automatización Funcional
    Configuración para ejecutar pruebas de registro e inicio de sesión
    
    Autor: Roberto Rivas Lopez
    Proyecto: Automatización de Pruebas - Módulo 4
    URL: https://practice.expandtesting.com
-->

<suite name="SuiteAutomatizacionFuncional" 
       verbose="2" 
       parallel="false" 
       thread-count="1" 
       configfailurepolicy="continue"
       preserve-order="true">
    
    <!-- Configuración global de la suite -->
    <parameter name="url.base" value="https://practice.expandtesting.com"/>
    <parameter name="navegador.tipo" value="CHROME"/>
    <parameter name="navegador.headless" value="false"/>
    <parameter name="timeout.explicito" value="15"/>
    
    <!-- Listeners para reportes y logging -->
    <listeners>
        <listener class-name="io.qameta.allure.testng.AllureTestNg"/>
    </listeners>
    
    <!-- ========================================== -->
    <!-- TEST COMPLETO - TODAS LAS PRUEBAS         -->
    <!-- ========================================== -->
    
    <test name="PruebasCompletas" enabled="true" preserve-order="true">
        <parameter name="entorno" value="practice-expand-testing"/>
        
        <groups>
            <run>
                <include name="smoke"/>
                <include name="regression"/>
                <include name="positivo"/>
                <include name="negativo"/>
                <include name="login"/>
                <include name="registro"/>
            </run>
        </groups>
        
        <classes>
            <!-- Pruebas de Registro (ejecutar primero) -->
            <class name="com.automatizacion.proyecto.pruebas.PruebasRegistro">
                <methods>
                    <!-- Casos críticos primero -->
                    <include name="testRegistroExitoso"/>
                    <include name="testValidacionCamposObligatorios"/>
                    <include name="testValidacionEmailInvalido"/>
                    <include name="testValidacionPasswordsNoCoinciden"/>
                    <include name="testValidacionPasswordDebil"/>
                </methods>
            </class>
            
            <!-- Pruebas de Login (ejecutar después) -->
            <class name="com.automatizacion.proyecto.pruebas.PruebasLogin">
                <methods>
                    <!-- Casos críticos primero -->
                    <include name="testLoginExitoso"/>
                    <include name="testLoginCredencialesInvalidas"/>
                    <include name="testLoginCamposVacios"/>
                    <include name="testLoginEmailInvalido"/>
                </methods>
            </class>
        </classes>
    </test>
    
    <!-- ========================================== -->
    <!-- SMOKE TESTS - PRUEBAS CRÍTICAS            -->
    <!-- ========================================== -->
    
    <test name="SmokeTests" enabled="false" preserve-order="true">
        <parameter name="descripcion" value="Pruebas críticas de funcionalidad básica"/>
        
        <groups>
            <run>
                <include name="smoke"/>
            </run>
        </groups>
        
        <classes>
            <class name="com.automatizacion.proyecto.pruebas.PruebasRegistro"/>
            <class name="com.automatizacion.proyecto.pruebas.PruebasLogin"/>
        </classes>
    </test>
    
    <!-- ========================================== -->
    <!-- REGRESSION TESTS - TODAS LAS PRUEBAS      -->
    <!-- ========================================== -->
    
    <test name="RegressionTests" enabled="false" preserve-order="true">
        <parameter name="descripcion" value="Suite completa de regresión"/>
        
        <groups>
            <run>
                <include name="smoke"/>
                <include name="regression"/>
                <include name="positivo"/>
                <include name="negativo"/>
                <include name="security"/>
                <include name="performance"/>
                <include name="navegacion"/>
            </run>
        </groups>
        
        <classes>
            <class name="com.automatizacion.proyecto.pruebas.PruebasRegistro"/>
            <class name="com.automatizacion.proyecto.pruebas.PruebasLogin"/>
        </classes>
    </test>
    
    <!-- ========================================== -->
    <!-- PRUEBAS POSITIVAS ÚNICAMENTE              -->
    <!-- ========================================== -->
    
    <test name="PruebasPositivas" enabled="false" preserve-order="true">
        <parameter name="descripcion" value="Solo casos de prueba positivos"/>
        
        <groups>
            <run>
                <include name="positivo"/>
            </run>
        </groups>
        
        <classes>
            <class name="com.automatizacion.proyecto.pruebas.PruebasRegistro"/>
            <class name="com.automatizacion.proyecto.pruebas.PruebasLogin"/>
        </classes>
    </test>
    
    <!-- ========================================== -->
    <!-- PRUEBAS NEGATIVAS ÚNICAMENTE              -->
    <!-- ========================================== -->
    
    <test name="PruebasNegativas" enabled="false" preserve-order="true">
        <parameter name="descripcion" value="Solo casos de prueba negativos"/>
        
        <groups>
            <run>
                <include name="negativo"/>
            </run>
        </groups>
        
        <classes>
            <class name="com.automatizacion.proyecto.pruebas.PruebasRegistro"/>
            <class name="com.automatizacion.proyecto.pruebas.PruebasLogin"/>
        </classes>
    </test>
    
    <!-- ========================================== -->
    <!-- PRUEBAS DE SEGURIDAD                      -->
    <!-- ========================================== -->
    
    <test name="PruebasSeguridad" enabled="false" preserve-order="true">
        <parameter name="descripcion" value="Casos de prueba de seguridad"/>
        
        <groups>
            <run>
                <include name="security"/>
            </run>
        </groups>
        
        <classes>
            <class name="com.automatizacion.proyecto.pruebas.PruebasRegistro"/>
            <class name="com.automatizacion.proyecto.pruebas.PruebasLogin"/>
        </classes>
    </test>
    
    <!-- ========================================== -->
    <!-- PRUEBAS DE PERFORMANCE                    -->
    <!-- ========================================== -->
    
    <test name="PruebasPerformance" enabled="false" preserve-order="true">
        <parameter name="descripcion" value="Casos de prueba de performance"/>
        
        <groups>
            <run>
                <include name="performance"/>
            </run>
        </groups>
        
        <classes>
            <class name="com.automatizacion.proyecto.pruebas.PruebasRegistro"/>
            <class name="com.automatizacion.proyecto.pruebas.PruebasLogin"/>
        </classes>
    </test>
    
    <!-- ========================================== -->
    <!-- CROSS-BROWSER TESTING                     -->
    <!-- ========================================== -->
    
    <test name="CrossBrowserChrome" enabled="false" preserve-order="true">
        <parameter name="navegador.tipo" value="CHROME"/>
        <parameter name="descripcion" value="Pruebas en Google Chrome"/>
        
        <groups>
            <run>
                <include name="smoke"/>
            </run>
        </groups>
        
        <classes>
            <class name="com.automatizacion.proyecto.pruebas.PruebasRegistro"/>
            <class name="com.automatizacion.proyecto.pruebas.PruebasLogin"/>
        </classes>
    </test>
    
    <test name="CrossBrowserFirefox" enabled="false" preserve-order="true">
        <parameter name="navegador.tipo" value="FIREFOX"/>
        <parameter name="descripcion" value="Pruebas en Mozilla Firefox"/>
        
        <groups>
            <run>
                <include name="smoke"/>
            </run>
        </groups>
        
        <classes>
            <class name="com.automatizacion.proyecto.pruebas.PruebasRegistro"/>
            <class name="com.automatizacion.proyecto.pruebas.PruebasLogin"/>
        </classes>
    </test>
    
    <!-- ========================================== -->
    <!-- EJECUCIÓN PARALELA (CONFIGURACIÓN)        -->
    <!-- ========================================== -->
    
    <test name="EjecucionParalela" enabled="false" parallel="methods" thread-count="3">
        <parameter name="descripcion" value="Ejecución paralela de pruebas"/>
        
        <groups>
            <run>
                <include name="smoke"/>
                <include name="positivo"/>
            </run>
        </groups>
        
        <classes>
            <class name="com.automatizacion.proyecto.pruebas.PruebasRegistro"/>
            <class name="com.automatizacion.proyecto.pruebas.PruebasLogin"/>
        </classes>
    </test>
    
    <!-- ========================================== -->
    <!-- PRUEBAS CON DATOS EXTERNOS                -->
    <!-- ========================================== -->
    
    <test name="PruebasConDatos" enabled="false" preserve-order="true">
        <parameter name="descripcion" value="Pruebas usando datos externos (CSV/Excel)"/>
        <parameter name="archivo.datos" value="src/test/resources/datos/usuarios.csv"/>
        
        <groups>
            <run>
                <include name="data-driven"/>
            </run>
        </groups>
        
        <classes>
            <class name="com.automatizacion.proyecto.pruebas.PruebasRegistro">
                <methods>
                    <include name="testRegistroConDatosCSV"/>
                    <include name="testRegistroConDatosExcel"/>
                </methods>
            </class>
            <class name="com.automatizacion.proyecto.pruebas.PruebasLogin">
                <methods>
                    <include name="testLoginConDatosCSV"/>
                    <include name="testLoginConDatosExcel"/>
                </methods>
            </class>
        </classes>
    </test>
    
</suite>