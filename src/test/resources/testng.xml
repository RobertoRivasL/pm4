<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd">

<suite name="Suite de Automatizacion Funcional" verbose="1" parallel="methods" thread-count="3">
    
    <!-- ====== CONFIGURACIÓN GLOBAL ====== -->
    <parameter name="browser" value="chrome"/>
    <parameter name="headless" value="false"/>
    <parameter name="timeout" value="10"/>
    <parameter name="baseUrl" value="https://practice.expandtesting.com"/>
    
    <!-- ====== LISTENERS ====== -->
    <listeners>
        <listener class-name="io.qameta.allure.testng.AllureTestNg"/>
    </listeners>
    
    <!-- ====== GRUPOS DE PRUEBAS ====== -->
    <groups>
        <define name="smoke">
            <include name="login"/>
            <include name="registro"/>
            <include name="positivo"/>
        </define>
        
        <define name="regression">
            <include name="login"/>
            <include name="registro"/>
            <include name="validacion"/>
            <include name="negativo"/>
            <include name="funcionalidad"/>
        </define>
        
        <define name="security">
            <include name="security"/>
            <include name="xss"/>
            <include name="edge-cases"/>
        </define>
        
        <define name="performance">
            <include name="performance"/>
        </define>
        
        <define name="ui">
            <include name="ui"/>
            <include name="navegacion"/>
        </define>
    </groups>
    
    <!-- ====== TEST COMPLETO - TODAS LAS PRUEBAS ====== -->
    <test name="Pruebas Completas" preserve-order="true">
        <classes>
            <class name="com.automatizacion.proyecto.pruebas.PruebasLogin">
                <methods>
                    <include name="testLoginExitoso"/>
                    <include name="testLoginMultiplesUsuarios"/>
                    <include name="testLoginCredencialesInvalidas"/>
                    <include name="testLoginEmailVacio"/>
                    <include name="testLoginPasswordVacio"/>
                    <include name="testLoginDatosInvalidos"/>
                    <include name="testFuncionalidadRecordarme"/>
                    <include name="testEnlaceOlvidoPassword"/>
                    <include name="testEnlaceRegistro"/>
                    <include name="testBloqueoMultiplesIntentos"/>
                    <include name="testCaracteresEspeciales"/>
                    <include name="testTiempoRespuestaLogin"/>
                    <include name="testElementosInterfazUsuario"/>
                    <include name="testLimpiezaFormulario"/>
                </methods>
            </class>
            
            <class name="com.automatizacion.proyecto.pruebas.PruebasRegistro">
                <methods>
                    <include name="testRegistroExitoso"/>
                    <include name="testRegistroMultiplesDatos"/>
                    <include name="testValidacionNombreVacio"/>
                    <include name="testValidacionEmailInvalido"/>
                    <include name="testValidacionPasswordsNoCoinciden"/>
                    <include name="testValidacionPasswordDebil"/>
                    <include name="testRegistroDatosInvalidos"/>
                    <include name="testRegistroUsuarioExistente"/>
                    <include name="testValidacionTerminosNoAceptados"/>
                    <include name="testCamposOpcionales"/>
                    <include name="testFuncionalidadNewsletter"/>
                    <include name="testLimpiezaFormulario"/>
                    <include name="testEnlaceLogin"/>
                    <include name="testTiempoRespuestaRegistro"/>
                    <include name="testElementosInterfazUsuario"/>
                    <include name="testCaracteresEspeciales"/>
                    <include name="testPrevencionXSS"/>
                    <include name="testCamposLongitudMaxima"/>
                </methods>
            </class>
        </classes>
    </test>
    
    <!-- ====== SUITES ESPECÍFICAS POR FUNCIONALIDAD ====== -->
    
    <!-- Suite de Pruebas de Login -->
    <test name="Pruebas de Login" preserve-order="true">
        <groups>
            <run>
                <include name="login"/>
            </run>
        </groups>
        <classes>
            <class name="com.automatizacion.proyecto.pruebas.PruebasLogin"/>
        </classes>
    </test>
    
    <!-- Suite de Pruebas de Registro -->
    <test name="Pruebas de Registro" preserve-order="true">
        <groups>
            <run>
                <include name="registro"/>
            </run>
        </groups>
        <classes>
            <class name="com.automatizacion.proyecto.pruebas.PruebasRegistro"/>
        </classes>
    </test>
    
    <!-- ====== SUITES POR TIPO DE PRUEBA ====== -->
    
    <!-- Suite Smoke -->
    <test name="Pruebas Smoke" preserve-order="true">
        <groups>
            <run>
                <include name="smoke"/>
            </run>
        </groups>
        <classes>
            <class name="com.automatizacion.proyecto.pruebas.PruebasLogin"/>
            <class name="com.automatizacion.proyecto.pruebas.PruebasRegistro"/>
        </classes>
    </test>
    
    <!-- Suite de Regresión -->
    <test name="Pruebas de Regresion" preserve-order="true">
        <groups>
            <run>
                <include name="regression"/>
            </run>
        </groups>
        <classes>
            <class name="com.automatizacion.proyecto.pruebas.PruebasLogin"/>
            <class name="com.automatizacion.proyecto.pruebas.PruebasRegistro"/>
        </classes>
    </test>
    
    <!-- Suite de Seguridad -->
    <test name="Pruebas de Seguridad" preserve-order="true">
        <groups>
            <run>
                <include name="security"/>
            </run>
        </groups>
        <classes>
            <class name="com.automatizacion.proyecto.pruebas.PruebasLogin"/>
            <class name="com.automatizacion.proyecto.pruebas.PruebasRegistro"/>
        </classes>
    </test>
    
    <!-- Suite de Performance -->
    <test name="Pruebas de Performance" preserve-order="true">
        <groups>
            <run>
                <include name="performance"/>
            </run>
        </groups>
        <classes>
            <class name="com.automatizacion.proyecto.pruebas.PruebasLogin"/>
            <class name="com.automatizacion.proyecto.pruebas.PruebasRegistro"/>
        </classes>
    </test>
    
    <!-- Suite de UI -->
    <test name="Pruebas de Interfaz de Usuario" preserve-order="true">
        <groups>
            <run>
                <include name="ui"/>
            </run>
        </groups>
        <classes>
            <class name="com.automatizacion.proyecto.pruebas.PruebasLogin"/>
            <class name="com.automatizacion.proyecto.pruebas.PruebasRegistro"/>
        </classes>
    </test>
    
    <!-- ====== CONFIGURACIÓN PARA CROSS-BROWSER TESTING ====== -->
    
    <!-- Chrome Tests -->
    <test name="Pruebas en Chrome" preserve-order="true">
        <parameter name="browser" value="chrome"/>
        <groups>
            <run>
                <include name="smoke"/>
            </run>
        </groups>
        <classes>
            <class name="com.automatizacion.proyecto.pruebas.PruebasLogin"/>
            <class name="com.automatizacion.proyecto.pruebas.PruebasRegistro"/>
        </classes>
    </test>
    
    <!-- Firefox Tests -->
    <test name="Pruebas en Firefox" preserve-order="true">
        <parameter name="browser" value="firefox"/>
        <groups>
            <run>
                <include name="smoke"/>
            </run>
        </groups>
        <classes>
            <class name="com.automatizacion.proyecto.pruebas.PruebasLogin"/>
            <class name="com.automatizacion.proyecto.pruebas.PruebasRegistro"/>
        </classes>
    </test>
    
    <!-- Edge Tests -->
    <test name="Pruebas en Edge" preserve-order="true">
        <parameter name="browser" value="edge"/>
        <groups>
            <run>
                <include name="smoke"/>
            </run>
        </groups>
        <classes>
            <class name="com.automatizacion.proyecto.pruebas.PruebasLogin"/>
            <class name="com.automatizacion.proyecto.pruebas.PruebasRegistro"/>
        </classes>
    </test>
    
</suite>